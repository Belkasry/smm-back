{"version":3,"file":"js/3306.4dd70952.js","mappings":"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","sources":["webpack://demo1/./src/core/data/valeur-ref.ts","webpack://demo1/./src/core/helpers/breadcrumb.ts","webpack://demo1/./src/views/apps/analyse/EditActionAnalyse.vue","webpack://demo1/./src/views/apps/analyse/EditActionAnalyse.vue?f475"],"sourcesContent":["const listValRef = {};\n\nexport default listValRef;\n","import store from \"@/store\";\r\nimport { Actions } from \"@/store/enums/StoreEnums\";\r\n\r\n/**\r\n * Sets current page breadcrumbs\r\n * @param {string} pageTitle Current page title\r\n * @param {Array<string>} breadcrumbs Current page breadcrumbs\r\n */\r\nexport const setCurrentPageBreadcrumbs = (\r\n  pageTitle: string,\r\n  breadcrumbs: Array<string>\r\n): void => {\r\n  store.dispatch(Actions.SET_BREADCRUMB_ACTION, {\r\n    title: pageTitle,\r\n    pageBreadcrumbPath: breadcrumbs,\r\n  });\r\n};\r\n\r\n/**\r\n * Sets current page breadcrumbs\r\n * @param {string} title Current page title name\r\n */\r\nexport const setCurrentPageTitle = (title: string): void => {\r\n  store.dispatch(Actions.SET_BREADCRUMB_ACTION, {\r\n    title: title,\r\n  });\r\n};\r\n","<template>\n  <v-container class=\"bg-theme-smm\" v-if=\"$route.params.id\">\n    <v-card>\n      <div\n        class=\"card-header mb-2 px-0 cursor-pointer\"\n        role=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#kt_form1\"\n        aria-expanded=\"true\"\n        aria-controls=\"kt_form1\"\n      >\n        <div class=\"card-title\">\n          <div class=\"d-flex align-items-center\">\n            <!--begin::Bullet-->\n            <span\n              class=\"bullet bullet-vertical h-50px\"\n              :class=\"`bg-yellow-smm`\"\n            ></span>\n            <div class=\"ml-2 flex-grow-1\">\n              <h2 class=\"text-white text-hover-primary fw-bolder\">\n                Plan d'action {{ data.name }}\n              </h2>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div id=\"kt_form1\" class=\"pt-3 mx-4 collapse show\">\n        <div class=\"w-100\">\n          <div id=\"kt_account_profile_details container\" class=\"collapse show\">\n            <div class=\"text-white fw-bold fs-2\">\n              <div class=\"d-flex flex-wrap\">\n                <v-form @submit.prevent=\"submitForm\">\n                  <v-row>\n                    <v-col md=\"6\" v-if=\"data.analyse_env\">\n                      <router-link\n                        :to=\"\n                          '/apps/analyse/show-analyse/' + data.analyse_env.id\n                        \"\n                      >\n                        <p class=\"bg-light bg-opacity-5 p-4 text-primary\">\n                          {{\n                            \"kt-\" +\n                            data.analyse_env.id +\n                            \" Impact Résiduel : \" +\n                            data.analyse_env.impact_residuel\n                          }}\n                        </p>\n                      </router-link></v-col\n                    >\n                    <v-col md=\"6\"\n                      ><v-text-field v-model=\"data.name\" label=\"Name\" required>\n                      </v-text-field\n                    ></v-col>\n                    <v-col md=\"6\" class=\"d-none\">\n                      <v-text-field\n                        v-model=\"data.ordre_priorite\"\n                        label=\"Priority\"\n                        type=\"number\"\n                      >\n                      </v-text-field>\n                    </v-col>\n                    <v-col md=\"6\">\n                      <v-text-field\n                        v-model=\"data.delai\"\n                        label=\"Delai\"\n                        type=\"date\"\n                      >\n                      </v-text-field>\n                      <div class=\"bg-light bg-opacity-5 mb-3\">\n                        <v-label class=\"ml-3 my-4\">Progrés</v-label>\n                        <v-slider\n                          step=\"5\"\n                          show-ticks\n                          class=\"p-3\"\n                          v-model=\"data.progress\"\n                          :color=\"\n                            data.progress < 30\n                              ? 'info'\n                              : data.progress < 60\n                              ? 'primary'\n                              : 'success'\n                          \"\n                          thumb-label=\"always\"\n                        ></v-slider></div\n                    ></v-col>\n\n                    <v-col md=\"6\">\n                      <v-textarea\n                        v-model=\"data.description\"\n                        label=\"Description\"\n                        required\n                      >\n                      </v-textarea>\n                    </v-col>\n                    <v-col md=\"6\" class=\"d-none\">\n                      <v-textarea\n                        v-model=\"data.notes\"\n                        label=\"Notes\"\n                      ></v-textarea\n                    ></v-col>\n                    <v-col md=\"6\">\n                      <v-select\n                        v-model=\"data.responsables\"\n                        :items=\"userOptions\"\n                        :items-label=\"userOptions\"\n                        label=\"Responsables\"\n                        item-title=\"name\"\n                        return-object\n                        multiple\n                        chips\n                      ></v-select>\n                    </v-col>\n                    <v-col md=\"6\" class=\"d-none\">\n                      <v-text-field\n                        v-model=\"data.cout\"\n                        label=\"COÙT\"\n                        type=\"number\"\n                      ></v-text-field\n                    ></v-col>\n                    <v-col md=\"12\">\n                      <v-btn type=\"submit\" class=\"float-right btn-info btn m-4\">\n                        <span class=\"svg-icon svg-icon-3 text-white\">\n                          <inline-svg\n                            src=\"media/icons/duotune/art/art005.svg\"\n                          />\n                        </span>\n                        Modifier</v-btn\n                      >\n                    </v-col></v-row\n                  >\n                </v-form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport listValRef from \"@/core/data/valeur-ref\";\nimport Swal from \"sweetalert2/dist/sweetalert2.min.js\";\nimport { setCurrentPageBreadcrumbs } from \"@/core/helpers/breadcrumb\";\nimport { onMounted } from \"vue\";\nexport default {\n  setup() {\n    onMounted(() => {\n      setCurrentPageBreadcrumbs(\"Modifier un PAE\", [\"Plan d'action\"]);\n    });\n\n    return {};\n  },\n  computed: {\n    currentRouteName() {\n      return window.location.origin;\n    },\n  },\n  data() {\n    return {\n      data: {\n        analyse_env: {},\n        name: \"\",\n        description: \"\",\n        progress: 0,\n        delai: null,\n        ordre_priorite: 0,\n        status: \"planned\",\n        notes: \"\",\n        documents: \"\",\n        cout: null,\n      },\n      statusOptions: [\"planned\", \"in progress\", \"completed\"],\n      userOptions: [],\n      envOptions: [],\n    };\n  },\n  async created() {\n    this.fetch();\n  },\n  methods: {\n    async fetch() {\n      if (this.$route.params.id) {\n        const analyse = await axios.get(\n          this.currentRouteName + \"/api/action/\" + this.$route.params.id\n        );\n        this.data = analyse.data;\n        const users = await axios.get(this.currentRouteName + \"/api/users\");\n        this.userOptions = users.data;\n      }\n    },\n    submitForm() {\n      const data = {\n        name: this.data.name,\n        description: this.data.description,\n        progress: this.data.progress,\n        delai: this.data.delai,\n        notes: this.data.notes,\n        // documents: this.data.documents,\n        cout: this.data.cout,\n        responsables: this.data.responsables.map((user) => user.id),\n      };\n      axios\n        .put(\n          this.currentRouteName + \"/api/action/\" + this.$route.params.id,\n          data\n        )\n        .then((response) => {\n          Swal.fire({\n            text: \"Plan d'action bien Ajouté\",\n            icon: \"success\",\n            buttonsStyling: false,\n            confirmButtonText: \"Ok\",\n            customClass: {\n              confirmButton: \"btn fw-bold btn-light-success\",\n            },\n          }).then((data) => {\n            this.$router.push({\n              name: \"apps-analyse-list-action\",\n            });\n          });\n        })\n        .catch(function (error) {\n          Swal.fire({\n            text: error,\n            icon: \"error\",\n            buttonsStyling: false,\n            confirmButtonText: \"Réessayer!\",\n            customClass: {\n              confirmButton: \"btn fw-bold btn-light-danger\",\n            },\n          });\n        });\n    },\n  },\n};\n</script>\n<style>\n.bg-theme-smm {\n  background: transparent;\n}\n\n.bg-theme-smm .v-card {\n  background: #261b235e;\n  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(5px);\n  -webkit-backdrop-filter: blur(5px);\n  border: 1px solid rgba(113, 85, 34, 0.06);\n}\n</style>\n","import { render } from \"./EditActionAnalyse.vue?vue&type=template&id=5a09e23e\"\nimport script from \"./EditActionAnalyse.vue?vue&type=script&lang=js\"\nexport * from \"./EditActionAnalyse.vue?vue&type=script&lang=js\"\n\nimport \"./EditActionAnalyse.vue?vue&type=style&index=0&id=5a09e23e&lang=css\"\n\nimport exportComponent from \"/Users/dev01/Documents/projects/metronic_v8.0.38/vue/demo1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["listValRef","setCurrentPageBreadcrumbs","pageTitle","breadcrumbs","title","pageBreadcrumbPath","setCurrentPageTitle","class","role","id","$route","params","data","name","submitForm","md","to","label","required","ordre_priorite","type","delai","step","progress","color","description","notes","responsables","items","userOptions","multiple","chips","cout","src","setup","computed","currentRouteName","window","location","origin","analyse_env","status","documents","statusOptions","envOptions","async","this","fetch","methods","analyse","axios","users","map","user","then","response","text","icon","buttonsStyling","confirmButtonText","customClass","confirmButton","$router","push","catch","error","__exports__","render"],"sourceRoot":""}