"use strict";(self["webpackChunkdemo1"]=self["webpackChunkdemo1"]||[]).push([[3158],{63158:function(s,t,o){o.r(t),o.d(t,{default:function(){return L}});var e=o(66252);const n={class:"w-lg-500px bg-smm rounded shadow-sm p-10 p-lg-15 mx-auto"},a=(0,e._)("div",{class:"text-center mb-10"},[(0,e._)("h1",{class:"text-dark mb-3"},"Se connecter to SMM")],-1),i=(0,e._)("div",{class:"mb-10 bg-light-info p-8 rounded d-none"},[(0,e._)("div",{class:"text-info"},[(0,e.Uk)(" Use account "),(0,e._)("strong",null,"admin@demo.com"),(0,e.Uk)(" and password "),(0,e._)("strong",null,"demo"),(0,e.Uk)(" to continue. ")])],-1),l={class:"fv-row mb-10"},r=(0,e._)("label",{class:"form-label fs-6 fw-bolder text-dark"},"Email",-1),c={class:"fv-plugins-message-container"},m={class:"fv-help-block"},d={class:"fv-row mb-10"},u=(0,e._)("div",{class:"d-flex flex-stack mb-2"},[(0,e._)("label",{class:"form-label fw-bolder text-dark fs-6 mb-0"},"Password")],-1),b={class:"fv-plugins-message-container"},f={class:"fv-help-block"},p={class:"text-center"},g={type:"submit",ref:"submitButton",id:"kt_sign_in_submit",class:"btn btn-lg btn-primary w-100 mb-5"},_=(0,e._)("span",{class:"indicator-label"}," Continue ",-1),v=(0,e._)("span",{class:"indicator-progress"},[(0,e.Uk)(" Please wait... "),(0,e._)("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),w=[_,v];function k(s,t,o,_,v,k){const h=(0,e.up)("Field"),x=(0,e.up)("ErrorMessage"),y=(0,e.up)("Form");return(0,e.wg)(),(0,e.iD)("div",n,[(0,e.Wm)(y,{class:"form w-100",id:"kt_login_signin_form",onSubmit:s.onSubmitLogin,"validation-schema":s.login},{default:(0,e.w5)((()=>[a,i,(0,e._)("div",l,[r,(0,e.Wm)(h,{class:"form-control form-control-lg form-control-solid",type:"text",name:"email",autocomplete:"off"}),(0,e._)("div",c,[(0,e._)("div",m,[(0,e.Wm)(x,{name:"email"})])])]),(0,e._)("div",d,[u,(0,e.Wm)(h,{class:"form-control form-control-lg form-control-solid",type:"password",name:"password",autocomplete:"off"}),(0,e._)("div",b,[(0,e._)("div",f,[(0,e.Wm)(x,{name:"password"})])])]),(0,e._)("div",p,[(0,e._)("button",g,w,512)])])),_:1},8,["onSubmit","validation-schema"])])}var h=o(2262),x=o(12954),y=o(15758),S=o(33907),B=o(22201),U=o(48542),C=o.n(U),W=o(74231),Z=o(8433),E=(0,e.aZ)({name:"sign-in",components:{Field:x.gN,Form:x.l0,ErrorMessage:x.Bc},setup(){const s=(0,S.oR)(),t=(0,B.tv)(),o=(0,h.iH)(null),e=W.Ry().shape({email:W.Z_().email().required().label("Email"),password:W.Z_().min(4).required().label("Password")}),n=async e=>{s.dispatch(y.e.LOGOUT),o.value&&o.value.setAttribute("data-kt-indicator","on");try{const s=await Z.Z.post(window.location.origin+"/api/auth",{email:e.email,password:e.password}),o=s.data.access_token;localStorage.setItem("access_token",o),C().fire({text:"Vous êtes bien connecté",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok !",customClass:{confirmButton:"btn fw-bold btn-light-primary"}}).then((function(){t.push({name:"dashboard"})}))}catch(n){C().fire({text:"Donées invalides",icon:"error",buttonsStyling:!1,confirmButtonText:"Réessayer!",customClass:{confirmButton:"btn fw-bold btn-light-danger"}})}o.value?.removeAttribute("data-kt-indicator")};return{onSubmitLogin:n,login:e,submitButton:o}}}),F=o(83744);const M=(0,F.Z)(E,[["render",k]]);var L=M}}]);
//# sourceMappingURL=3158.73b7456c.js.map